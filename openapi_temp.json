{"openapi":"3.1.0","info":{"title":"Requirements Mining API V2","description":"Korrigierte Version mit LangExtract-Fixes (Hybrid: FastAPI-Router + eingebettetes Flask).","version":"2.0.0"},"paths":{"/api/v1/lx/config/preview":{"get":{"tags":["lx"],"summary":"Lx Config Preview V2","description":"FastAPI-Port: Konfiguration + optionales Schema ausgeben","operationId":"lx_config_preview_v2_api_v1_lx_config_preview_get","parameters":[{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lx/extract":{"post":{"tags":["lx"],"summary":"Lx Extract V2","description":"FastAPI-Port: LangExtract ausführen.\nUnterstützt:\n  - multipart/form-data mit files=[...] (und optionalen Parametern)\n  - application/json mit { text, configId?, prompt_description?, examples? }\nResponse kompatibel zu v2-Implementierung: { lxPreview, savedAs, saveId, configId, chunks }","operationId":"lx_extract_v2_api_v1_lx_extract_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_lx_extract_v2_api_v1_lx_extract_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lx/result/get":{"get":{"tags":["lx"],"summary":"Lx Result Get V2","description":"FastAPI-Port: komplettes gespeichertes LX-Ergebnis zurückgeben.\n- ?saveId=... | ?latest=1","operationId":"lx_result_get_v2_api_v1_lx_result_get_get","parameters":[{"name":"saveId","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Saveid"}},{"name":"latest","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":false,"title":"Latest"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lx/result/chunk":{"get":{"tags":["lx"],"summary":"Lx Result Chunk V2","description":"FastAPI-Port: einzelnen Chunk (Text + Payload) aus gespeicherten Ergebnissen liefern.","operationId":"lx_result_chunk_v2_api_v1_lx_result_chunk_get","parameters":[{"name":"saveId","in":"query","required":true,"schema":{"type":"string","title":"Saveid"}},{"name":"idx","in":"query","required":true,"schema":{"type":"integer","title":"Idx"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lx/mine":{"get":{"tags":["lx"],"summary":"Lx Mine From Results V2","description":"FastAPI-Port: Requirements-Items aus lxPreview ableiten (class=requirement).\n- ?saveId=... | ?latest=1","operationId":"lx_mine_from_results_v2_api_v1_lx_mine_get","parameters":[{"name":"saveId","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Saveid"}},{"name":"latest","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":false,"title":"Latest"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/analyze":{"post":{"tags":["structure"],"summary":"Structure Analyze Endpoint Fastapi","description":"FastAPI-Port: Heuristische Struktur-Analyse (Abschnitte, Tabellenzeilen, Bullets, Paragraphs)\n- multipart/form-data: files=[...]\n- application/json: { text?: string, use_wtpsplit?: bool }","operationId":"structure_analyze_endpoint_fastapi_api_v1_structure_analyze_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_structure_analyze_endpoint_fastapi_api_v1_structure_analyze_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/graph_export":{"post":{"tags":["structure"],"summary":"Structure Graph Export Fastapi","description":"FastAPI-Port: Graph-Export\n- multipart/form-data: files=[...] -> führt analyze intern aus und exportiert Graph\n- application/json: { text?: string, components?: [...] }","operationId":"structure_graph_export_fastapi_api_v1_structure_graph_export_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_structure_graph_export_fastapi_api_v1_structure_graph_export_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lx/gold/list":{"get":{"tags":["gold"],"summary":"Lx Gold List Fastapi","description":"FastAPI-Port: Liste gespeicherter Gold-Sets (Dateinamen ohne .json)","operationId":"lx_gold_list_fastapi_api_v1_lx_gold_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/lx/gold/get":{"get":{"tags":["gold"],"summary":"Lx Gold Get Fastapi","description":"FastAPI-Port: Gold-Set laden","operationId":"lx_gold_get_fastapi_api_v1_lx_gold_get_get","parameters":[{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lx/gold/save":{"post":{"tags":["gold"],"summary":"Lx Gold Save Fastapi","description":"FastAPI-Port: Gold-Set speichern\nBody: { \"goldId\": \"demo\", \"gold\": { \"items\": [ { requirementText }, ... ] } }","operationId":"lx_gold_save_fastapi_api_v1_lx_gold_save_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/lx/evaluate":{"post":{"tags":["gold"],"summary":"Lx Evaluate Fastapi","description":"FastAPI-Port: Evaluate predicted requirements against a gold set.\nBody:\n  {\n    goldId?: str,\n    gold?: { items: [ { requirementText } | str ] },\n    saveId?: str, latest?: bool, items?: [ { requirementText } ],\n    threshold?: float,\n    use_embeddings?: bool,\n    embed_threshold?: float\n  }","operationId":"lx_evaluate_fastapi_api_v1_lx_evaluate_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/validate/suggest":{"post":{"tags":["arch_team"],"summary":"Validate Suggest","description":"Generate improvement suggestions for requirements.","operationId":"validate_suggest_api_v1_validate_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateBatchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/validate/batch":{"post":{"tags":["arch_team"],"summary":"Validate Batch Rewrite","description":"Validate and rewrite requirements.","operationId":"validate_batch_rewrite_api_v1_validate_batch_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateBatchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/validate/suggest/stream":{"post":{"tags":["validate"],"summary":"Validate Suggest Stream V2","description":"NDJSON-Stream: sendet pro Requirement Suggestions (Atoms) als einzelne JSON-Zeile.","operationId":"validate_suggest_stream_v2_api_v1_validate_suggest_stream_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/validate/batch/stream":{"post":{"tags":["validate"],"summary":"Validate Batch Stream V2","description":"NDJSON-Stream: sendet pro Requirement ein Ergebnis als einzelne JSON-Zeile.","operationId":"validate_batch_stream_v2_api_v1_validate_batch_stream_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v2/evaluate/single":{"post":{"tags":["arch_team"],"summary":"Evaluate Single","description":"Single requirement evaluation via EvaluationService.","operationId":"evaluate_single_api_v2_evaluate_single_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/backend__routers__arch_team_router__EvaluateSingleRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/evaluate/batch":{"post":{"tags":["arch_team"],"summary":"Evaluate Batch","description":"Batch evaluation via EvaluationService.","operationId":"evaluate_batch_api_v2_evaluate_batch_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluateBatchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/evaluate/batch/optimized":{"post":{"tags":["validate"],"summary":"Evaluate Batch Optimized","description":"OPTIMIERTE Batch-Evaluation mit echtem LLM-Batching.\n\nSendet mehrere Requirements in einem einzigen LLM-Call für ~3x Speedup.\n\nRequest Body:\n{\n    \"items\": [\n        {\"id\": \"REQ-001\", \"text\": \"Das System soll...\"},\n        {\"id\": \"REQ-002\", \"text\": \"Als User...\"}\n    ],\n    \"context\": {},\n    \"criteria_keys\": [\"clarity\", \"testability\", ...],\n    \"threshold\": 0.7,\n    \"batch_size\": 5\n}\n\nResponse:\n[\n    {\"id\": \"REQ-001\", \"originalText\": \"...\", \"evaluation\": [...], \"score\": 0.8, \"verdict\": \"pass\"},\n    ...\n]","operationId":"evaluate_batch_optimized_api_v2_evaluate_batch_optimized_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/v1/validation/stream/{session_id}":{"get":{"tags":["validate"],"summary":"Stream Validation Events","description":"SSE endpoint for streaming real-time validation updates.","operationId":"stream_validation_events_api_v1_validation_stream__session_id__get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/validation/analytics":{"get":{"tags":["validate"],"summary":"Get Validation Analytics","description":"Get validation analytics for the last N days.\nReturns statistics about validation runs.","operationId":"get_validation_analytics_api_v1_validation_analytics_get","parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/validate/auto/batch":{"post":{"tags":["validate"],"summary":"Validate Auto Batch","description":"Automatic batch requirement validation using the RequirementsOrchestrator.\nProcesses multiple requirements with automatic fix of failing criteria.\n\nRequest Body:\n{\n    \"requirements\": [\n        {\"id\": \"REQ-001\", \"text\": \"Das System soll...\"},\n        {\"id\": \"REQ-002\", \"text\": \"Als User...\"}\n    ],\n    \"session_id\": \"session-xxx\",\n    \"threshold\": 0.7,\n    \"max_iterations\": 3\n}","operationId":"validate_auto_batch_api_v1_validate_auto_batch_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/validate/auto":{"post":{"tags":["validate"],"summary":"Validate Auto","description":"Automatic requirement validation using the RequirementOrchestrator.\nAutomatically fixes failing criteria using specialist agents.","operationId":"validate_auto_api_v1_validate_auto_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/validate/auto/enhanced":{"post":{"tags":["validate"],"summary":"Validate Auto Enhanced","description":"Enhanced automatic requirement validation using SocietyOfMindEnhancement.\n\nThis is FASTER than /api/v1/validate/auto because it uses:\n- PURPOSE-focused coordinated prompts (4-5 LLM calls per iteration)\n- Auto-generated answers for missing metrics\n- Returns gaps that cannot be auto-filled as suggestions\n\nvs. the old process:\n- 9 separate criterion agents (9 LLM calls per iteration)\n- Sequential evaluation and rewrite cycles\n\nRequest Body:\n{\n    \"requirements\": [\n        {\"id\": \"REQ-001\", \"text\": \"Das System soll...\"},\n        {\"id\": \"REQ-002\", \"text\": \"Als User...\"}\n    ],\n    \"session_id\": \"session-xxx\",\n    \"threshold\": 0.7,\n    \"max_iterations\": 3\n}\n\nResponse:\n{\n    \"success\": true,\n    \"total_processed\": 5,\n    \"passed_count\": 3,\n    \"failed_count\": 2,\n    \"improved_count\": 4,\n    \"average_score\": 0.75,\n    \"total_time_ms\": 5000,\n    \"requirements\": [\n        {\n            \"id\": \"REQ-001\",\n            \"original_text\": \"...\",\n            \"enhanced_text\": \"...\",\n            \"score\": 0.8,\n            \"verdict\": \"pass\",\n            \"purpose\": \"...\",\n            \"gaps_filled\": [...],\n            \"gaps_remaining\": [...]\n        }\n    ]\n}","operationId":"validate_auto_enhanced_api_v1_validate_auto_enhanced_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/validate/single/enhanced":{"post":{"tags":["validate"],"summary":"Validate Single Enhanced","description":"Enhanced single requirement validation using SocietyOfMindEnhancement.\n\nFaster alternative to /api/v1/validate/auto for single requirements.\n\nRequest Body:\n{\n    \"requirement_id\": \"REQ-001\",\n    \"requirement_text\": \"Das System soll...\",\n    \"threshold\": 0.7,\n    \"max_iterations\": 3\n}","operationId":"validate_single_enhanced_api_v1_validate_single_enhanced_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/mining/validate":{"post":{"tags":["validate"],"summary":"Mining Validate","description":"End-to-end pipeline: Document Mining + Requirement Validation.\n    \n    1. ChunkMinerAgent extracts requirements from uploaded documents\n    2. RequirementsOrchestrator validates against 10 IEEE 29148 criteria\n    3. DecisionMaker decides: SPLIT / REWRITE / ACCEPT / CLARIFY / REJECT\n    4. Auto-improvement loop until quality threshold met\n    \n    Request Body:\n    {\n        \"files\": [\n            {\"filename\": \"reqs.md\", \"content\": \"# Requirements\n- Das System soll...\"},\n            {\"text\": \"Als Benutzer möchte ich...\"}\n        ],\n        \"session_id\": \"session-xxx\",\n        \"quality_threshold\": 0.7,\n        \"max_iterations\": 3,\n        \"auto_mode\": true,\n        \"persist_to_db\": true\n    }\n    \n    Response:\n    {\n        \"success\": true,\n        \"pipeline_id\": \"abc12345\",\n        \"mining\": {\n            \"mined_count\": 12,\n            \"time_ms\": 1500,\n            \"source_files\": [\"reqs.md\"]\n        },\n        \"validation\": {\n            \"initial_pass_rate\": 0.42,\n            \"final_pass_rate\": 0.83,\n            \"iterations\": 2,\n            \"time_ms\": 8500\n        },\n        \"final_requirements\": [...],\n        \"statistics\": {\n            \"passed\": 10,\n            \"failed\": 2,\n            \"improved\": 5,\n            \"total_time_ms\": 10000\n        }\n    }","operationId":"mining_validate_api_v1_mining_validate_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/mining/validate/stream":{"post":{"tags":["validate"],"summary":"Mining Validate Stream","description":"Streaming version of mining + validation pipeline.\nReturns NDJSON stream with progress updates.","operationId":"mining_validate_stream_api_v1_mining_validate_stream_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/vector/collections":{"get":{"tags":["vector","rag"],"summary":"Vector Collections V2","operationId":"vector_collections_v2_api_v1_vector_collections_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/vector/health":{"get":{"tags":["vector","rag"],"summary":"Vector Health V2","operationId":"vector_health_v2_api_v1_vector_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/vector/reset":{"post":{"tags":["vector","rag"],"summary":"Vector Reset V2","description":"Droppt die Qdrant-Collection und legt sie neu an.\nBody oder Query: { collection?: str, dim?: int }","operationId":"vector_reset_v2_api_v1_vector_reset_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"delete":{"tags":["vector","rag"],"summary":"Vector Reset V2","description":"Droppt die Qdrant-Collection und legt sie neu an.\nBody oder Query: { collection?: str, dim?: int }","operationId":"vector_reset_v2_api_v1_vector_reset_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"get":{"tags":["vector","rag"],"summary":"Vector Reset Get V2","description":"GET-Variante mit confirm=1, optional collection, dim.","operationId":"vector_reset_get_v2_api_v1_vector_reset_get","parameters":[{"name":"confirm","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Confirm"}},{"name":"collection","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Collection"}},{"name":"dim","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dim"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector/source/full":{"get":{"tags":["vector","rag"],"summary":"Vector Source Full V2","description":"Liefert alle Chunks eines sourceFile zusammen mit aggregiertem Text.\nResponse: { sourceFile, chunks: [{chunkIndex,text}], text }","operationId":"vector_source_full_v2_api_v1_vector_source_full_get","parameters":[{"name":"source","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/search":{"get":{"tags":["vector","rag"],"summary":"Rag Search V2","description":"Einfache Vektor-Suche: GET /api/v1/rag/search?query=...&top_k=5&collection=...","operationId":"rag_search_v2_api_v1_rag_search_get","parameters":[{"name":"query","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query"}},{"name":"top_k","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":5,"title":"Top K"}},{"name":"collection","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Collection"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/corrections/decision":{"post":{"tags":["corrections"],"summary":"Set Correction Decision V2","description":"Setzt die Entscheidung accepted|rejected für die jüngste Korrektur einer Evaluation.\nBody: { \"evaluationId\": \"...\", \"decision\": \"accepted\"|\"rejected\", \"decidedBy\"?: \"...\" }","operationId":"set_correction_decision_v2_api_v1_corrections_decision_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/corrections/text":{"post":{"tags":["corrections"],"summary":"Save Correction Text V2","description":"Speichert eine manuell eingegebene Korrektur (Correction) zu einer bestehenden Evaluation.\nBody: { \"originalText\": string, \"text\": string }","operationId":"save_correction_text_v2_api_v1_corrections_text_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/corrections/apply":{"post":{"tags":["corrections"],"summary":"Apply Corrections V2","description":"Wendet ausgewählte Suggestions (Atoms) auf eine Anforderung an und erzeugt 1..N neue Umschreibungen.\nBody:\n  {\n    originalText?: string,\n    evaluationId?: string,\n    selectedSuggestions?: Atom[],\n    mode?: \"merge\"|\"split\",\n    context?: {}\n  }","operationId":"apply_corrections_v2_api_v1_corrections_apply_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/corrections/decision/batch":{"post":{"tags":["corrections"],"summary":"Set Correction Decision Batch V2","description":"Setzt Entscheidungen im Batch.\nBody: { \"items\": [ { \"evaluationId\": \"...\", \"decision\": \"accepted\"|\"rejected\", \"decidedBy\"?: \"...\" }, ... ] }","operationId":"set_correction_decision_batch_v2_api_v1_corrections_decision_batch_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/batch/submit":{"post":{"tags":["batch"],"summary":"Submit Batch","description":"Submit requirements for batch processing.\n\nThe Batch API processes requirements asynchronously with 50% cost savings.\nUse GET /batch/status/{batch_id} to check progress.","operationId":"submit_batch_batch_submit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchSubmitRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchSubmitResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/status/{batch_id}":{"get":{"tags":["batch"],"summary":"Get Batch Status","description":"Check the status of a batch processing job.\n\nStatus values:\n- validating: Batch is being validated\n- in_progress: Processing requirements\n- completed: All done, results available via /batch/results/{batch_id}\n- failed: Batch failed\n- expired: Batch expired (24h limit)\n- cancelled: Batch was cancelled","operationId":"get_batch_status_batch_status__batch_id__get","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/results/{batch_id}":{"get":{"tags":["batch"],"summary":"Get Batch Results","description":"Get results from a completed batch.\n\nOnly available when status is 'completed'.","operationId":"get_batch_results_batch_results__batch_id__get","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchResultsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/cancel/{batch_id}":{"post":{"tags":["batch"],"summary":"Cancel Batch","description":"Cancel a running batch job.","operationId":"cancel_batch_batch_cancel__batch_id__post","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/active":{"get":{"tags":["batch"],"summary":"List Active Batches","description":"List all active/tracked batch jobs.","operationId":"list_active_batches_batch_active_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/manifest/sources":{"get":{"tags":["manifest"],"summary":"Get Manifest Sources","description":"Get list of unique source files (projects) with requirement counts.\n\nReturns:\n- List of source files with statistics\n- Useful for selecting which project/file to load\n\nExample: GET /api/v1/manifest/sources","operationId":"get_manifest_sources_api_v1_manifest_sources_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/manifest/{requirement_id}":{"get":{"tags":["manifest"],"summary":"Get Manifest","description":"Get complete requirement manifest with full lifecycle tracking.\n\nReturns:\n- Requirement metadata (ID, source, checksums, timestamps)\n- Full processing timeline (all stages with scores/verdicts)\n- Evidence chain (source documents, chunks, neighbor context)\n- Split children (if requirement was split)\n\nExample: GET /api/v1/manifest/REQ-535535-api","operationId":"get_manifest_api_v1_manifest__requirement_id__get","parameters":[{"name":"requirement_id","in":"path","required":true,"schema":{"type":"string","title":"Requirement Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequirementManifest"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/manifest/{requirement_id}/timeline":{"get":{"tags":["manifest"],"summary":"Get Manifest Timeline","description":"Get chronological timeline of all processing stages for a requirement.\n\nReturns:\n- All processing stages ordered by started_at timestamp\n- Stage details: name, status, scores, verdicts, latency, token usage\n- Useful for visualizing the requirement's journey through the pipeline\n\nExample: GET /api/v1/manifest/REQ-535535-api/timeline","operationId":"get_manifest_timeline_api_v1_manifest__requirement_id__timeline_get","parameters":[{"name":"requirement_id","in":"path","required":true,"schema":{"type":"string","title":"Requirement Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ManifestTimelineResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/manifest/{requirement_id}/children":{"get":{"tags":["manifest"],"summary":"Get Manifest Children","description":"Get all child requirements created when AtomicityAgent split this requirement.\n\nReturns:\n- List of child manifests (if requirement was split)\n- Split relationships with rationale and metadata\n- Empty list if requirement was not split or is atomic\n\nExample: GET /api/v1/manifest/REQ-535535-api/children","operationId":"get_manifest_children_api_v1_manifest__requirement_id__children_get","parameters":[{"name":"requirement_id","in":"path","required":true,"schema":{"type":"string","title":"Requirement Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ManifestChildrenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/manifest":{"get":{"tags":["manifest"],"summary":"Query Manifests","description":"Query requirements manifests with filters and pagination.\n\nQuery Parameters:\n- source_type: Filter by source (upload|manual|chunk_miner|api)\n- source_file: Filter by original filename\n- current_stage: Filter by processing stage (input|mining|evaluation|atomicity|etc.)\n- parent_id: Filter by parent ID (to find all splits from a parent)\n- limit: Max results (default: 100, max: 1000)\n- offset: Skip N results for pagination (default: 0)\n\nExample: GET /api/v1/manifest?source_type=chunk_miner&current_stage=evaluation&limit=50","operationId":"query_manifests_api_v1_manifest_get","parameters":[{"name":"source_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by source type: upload|manual|chunk_miner|api","title":"Source Type"},"description":"Filter by source type: upload|manual|chunk_miner|api"},{"name":"source_file","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by source filename","title":"Source File"},"description":"Filter by source filename"},{"name":"current_stage","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by current processing stage","title":"Current Stage"},"description":"Filter by current processing stage"},{"name":"parent_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by parent requirement ID (for splits)","title":"Parent Id"},"description":"Filter by parent requirement ID (for splits)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Maximum number of results to return","default":100,"title":"Limit"},"description":"Maximum number of results to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of results to skip (for pagination)","default":0,"title":"Offset"},"description":"Number of results to skip (for pagination)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RequirementManifest"},"title":"Response Query Manifests Api V1 Manifest Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clarifications/pending":{"get":{"tags":["clarifications"],"summary":"Get Pending Questions","description":"Get all pending (unanswered) clarification questions.\n\nReturns questions sorted by creation time (oldest first).","operationId":"get_pending_questions_api_v1_clarifications_pending_get","parameters":[{"name":"requirement_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by requirement ID","title":"Requirement Id"},"description":"Filter by requirement ID"},{"name":"validation_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by validation session ID","title":"Validation Id"},"description":"Filter by validation session ID"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"description":"Maximum number of results","default":100,"title":"Limit"},"description":"Maximum number of results"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuestionResponse"},"title":"Response Get Pending Questions Api V1 Clarifications Pending Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clarifications/summary":{"get":{"tags":["clarifications"],"summary":"Get Summary","description":"Get summary statistics for clarification questions.\n\nReturns counts by status and criterion.","operationId":"get_summary_api_v1_clarifications_summary_get","parameters":[{"name":"validation_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by validation session ID","title":"Validation Id"},"description":"Filter by validation session ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clarifications/{question_id}":{"get":{"tags":["clarifications"],"summary":"Get Question","description":"Get a single clarification question by ID.","operationId":"get_question_api_v1_clarifications__question_id__get","parameters":[{"name":"question_id","in":"path","required":true,"schema":{"type":"integer","title":"Question Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clarifications/requirement/{requirement_id}":{"get":{"tags":["clarifications"],"summary":"Get Questions For Requirement","description":"Get all clarification questions for a specific requirement.","operationId":"get_questions_for_requirement_api_v1_clarifications_requirement__requirement_id__get","parameters":[{"name":"requirement_id","in":"path","required":true,"schema":{"type":"string","title":"Requirement Id"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status (pending/answered/skipped/expired)","title":"Status"},"description":"Filter by status (pending/answered/skipped/expired)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuestionResponse"},"title":"Response Get Questions For Requirement Api V1 Clarifications Requirement  Requirement Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clarifications/{question_id}/answer":{"post":{"tags":["clarifications"],"summary":"Answer Question","description":"Answer a clarification question.\n\nOptionally applies the answer to update the requirement text.","operationId":"answer_question_api_v1_clarifications__question_id__answer_post","parameters":[{"name":"question_id","in":"path","required":true,"schema":{"type":"integer","title":"Question Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/backend__routers__clarification_router__AnswerRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clarifications/{question_id}/skip":{"post":{"tags":["clarifications"],"summary":"Skip Question","description":"Skip a clarification question (user chose not to answer).","operationId":"skip_question_api_v1_clarifications__question_id__skip_post","parameters":[{"name":"question_id","in":"path","required":true,"schema":{"type":"integer","title":"Question Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SkipRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clarifications/batch/answer":{"post":{"tags":["clarifications"],"summary":"Batch Answer Questions","description":"Answer multiple clarification questions at once.\n\nRequest body: [\n    {\"question_id\": 1, \"answer_text\": \"...\", \"apply_to_requirement\": true},\n    {\"question_id\": 2, \"answer_text\": \"...\", \"apply_to_requirement\": true},\n    ...\n]","operationId":"batch_answer_questions_api_v1_clarifications_batch_answer_post","requestBody":{"content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Answers"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Batch Answer Questions Api V1 Clarifications Batch Answer Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clarifications/expired":{"delete":{"tags":["clarifications"],"summary":"Cleanup Expired Questions","description":"Clean up expired clarification questions.\n\nMarks pending questions older than max_age_hours as expired.","operationId":"cleanup_expired_questions_api_v1_clarifications_expired_delete","parameters":[{"name":"max_age_hours","in":"query","required":false,"schema":{"type":"integer","maximum":168,"minimum":1,"description":"Max age in hours","default":24,"title":"Max Age Hours"},"description":"Max age in hours"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Cleanup Expired Questions Api V1 Clarifications Expired Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/demo/requirements":{"get":{"tags":["demo"],"summary":"Get Demo Requirements","description":"Returns a list of demo requirements for testing the validation UI.","operationId":"get_demo_requirements_api_v1_demo_requirements_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Demo Requirements Api V1 Demo Requirements Get"}}}}}}},"/api/v1/demo/requirements/count":{"get":{"tags":["demo"],"summary":"Get Demo Requirements Count","description":"Returns the count of demo requirements.","operationId":"get_demo_requirements_count_api_v1_demo_requirements_count_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"integer"},"type":"object","title":"Response Get Demo Requirements Count Api V1 Demo Requirements Count Get"}}}}}}},"/api/v1/enhance/batch-questions":{"post":{"tags":["enhancement"],"summary":"Collect Batch Questions","description":"Collect clarifying questions for all requirements that don't meet the quality threshold.\n\nThis does NOT enhance - it only analyzes and generates questions.\nReturns a report that can be displayed to the user for answering.","operationId":"collect_batch_questions_api_v1_enhance_batch_questions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchQuestionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchQuestionReport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhance/apply-answers":{"post":{"tags":["enhancement"],"summary":"Apply Answers And Enhance","description":"Apply user answers from the question report and enhance requirements.\n\nTakes the report items with filled-in answers and rewrites each requirement.","operationId":"apply_answers_and_enhance_api_v1_enhance_apply_answers_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyAnswersRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyAnswersResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhance/auto-batch":{"post":{"tags":["enhancement"],"summary":"Auto Enhance Batch","description":"Automatically enhance all requirements without user input.\n\nThis mode:\n1. Analyzes each requirement for PURPOSE and GAPS\n2. Auto-generates reasonable values for missing metrics\n3. Rewrites requirements to be measurable and testable\n4. Returns gaps that cannot be auto-filled as suggestions\n\nBest for: Getting quick improvements without manual intervention.","operationId":"auto_enhance_batch_api_v1_enhance_auto_batch_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutoEnhanceBatchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutoEnhanceBatchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhance/submit":{"post":{"tags":["enhancement"],"summary":"Submit Enhancement","description":"Start a new enhancement session.\n\nReturns session_id and first question (if any).","operationId":"submit_enhancement_api_v1_enhance_submit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnhancementRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnhancementResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhance/answer/{session_id}":{"post":{"tags":["enhancement"],"summary":"Submit Answer","description":"Submit answer to continue enhancement.\n\nThe system will:\n1. Incorporate the answer into the requirement\n2. Re-evaluate quality\n3. Generate next question if needed","operationId":"submit_answer_api_v1_enhance_answer__session_id__post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/backend__routers__enhancement_ws_router__AnswerRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnhancementResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enhance/status/{session_id}":{"get":{"tags":["enhancement"],"summary":"Get Session Status","description":"Get the current status of an enhancement session.","operationId":"get_session_status_api_v1_enhance_status__session_id__get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/techstack/detect":{"post":{"tags":["techstack"],"summary":"Detect Tech Stack","description":"Automatically detect and recommend the best template based on requirements.\n\nAnalyzes requirement text for keywords and tech indicators to determine\nthe most suitable project template.","operationId":"detect_tech_stack_api_v1_techstack_detect_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/techstack/match":{"post":{"tags":["techstack"],"summary":"Match Requirement To Templates","description":"Match a single requirement text to templates using keyword analysis.\n\nUseful for real-time suggestions as requirements are being written.","operationId":"match_requirement_to_templates_api_v1_techstack_match_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MatchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/techstack/templates":{"get":{"tags":["techstack"],"summary":"List Templates","description":"List all available templates.","operationId":"list_templates_api_v1_techstack_templates_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/techstack/templates/{template_id}":{"get":{"tags":["techstack"],"summary":"Get Template","description":"Get details for a specific template.","operationId":"get_template_api_v1_techstack_templates__template_id__get","parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"string","title":"Template Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/techstack/create":{"post":{"tags":["techstack"],"summary":"Create Project","description":"Create a new project from a template.","operationId":"create_project_api_v1_techstack_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProjectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/techstack/categories":{"get":{"tags":["techstack"],"summary":"List Categories","description":"List all template categories.","operationId":"list_categories_api_v1_techstack_categories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/techstack/kg/rebuild":{"post":{"tags":["techstack"],"summary":"Rebuild Knowledge Graph","description":"Rebuild the Knowledge Graph from templates.\n\nShould be called on initial run to build the KG.\nUse force=True to completely rebuild from scratch.","operationId":"rebuild_knowledge_graph_api_v1_techstack_kg_rebuild_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/KGRebuildRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/techstack/kg/update":{"post":{"tags":["techstack"],"summary":"Update Knowledge Graph","description":"Update KG with requirement traces after a processing run.\n\nCreates nodes for requirements and edges to matched templates.","operationId":"update_knowledge_graph_api_v1_techstack_kg_update_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/KGUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/techstack/kg/status":{"get":{"tags":["techstack"],"summary":"Get Kg Status","description":"Get Knowledge Graph status and statistics.","operationId":"get_kg_status_api_v1_techstack_kg_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/techstack/pipeline/process":{"post":{"tags":["techstack"],"summary":"Process Pipeline Final Step","description":"Execute tech stack selection as the final pipeline step.\n\nPipeline order: Requirements Extraction → Enhancement → Validation → **Tech Stack Selection**\n\nThis endpoint:\n1. Recommends a template if not provided\n2. Transforms requirements with tech stack context\n3. Updates the Knowledge Graph with traces","operationId":"process_pipeline_final_step_api_v1_techstack_pipeline_process_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelineProcessRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/techstack/transform":{"post":{"tags":["techstack"],"summary":"Transform Requirements","description":"Transform requirements based on selected tech stack template.\n\nAdds template-specific metadata, implementation hints, and\ntech stack context to each requirement.","operationId":"transform_requirements_api_v1_techstack_transform_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransformRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/techstack/recommend":{"post":{"tags":["techstack"],"summary":"Recommend Template","description":"Get template recommendation using the TechStackAgent.\n\nAlternative to /detect that uses the agent's recommendation logic.","operationId":"recommend_template_api_v1_techstack_recommend_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/mining/upload":{"post":{"tags":["arch_team"],"summary":"Mining Upload","description":"Multipart Upload for requirements mining.","operationId":"mining_upload_api_mining_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_mining_upload_api_mining_upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/mining/report":{"post":{"tags":["arch_team"],"summary":"Mining Report","description":"Generate a compact Markdown report from mined DTOs.","operationId":"mining_report_api_mining_report_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MiningReportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/kg/build":{"post":{"tags":["arch_team"],"summary":"Kg Build","description":"Build Knowledge Graph from mined DTOs and persist to Qdrant.","operationId":"kg_build_api_kg_build_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/KGBuildRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/kg/search/nodes":{"get":{"tags":["arch_team"],"summary":"Kg Search Nodes","description":"Semantic node search in KG.","operationId":"kg_search_nodes_api_kg_search_nodes_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","title":"Query"}},{"name":"top_k","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Top K"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/kg/search/edges":{"get":{"tags":["arch_team"],"summary":"Kg Search Edges","description":"Semantic edge search in KG.","operationId":"kg_search_edges_api_kg_search_edges_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","title":"Query"}},{"name":"top_k","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Top K"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/kg/export":{"get":{"tags":["arch_team"],"summary":"Kg Export","description":"Export all KG nodes and edges from Qdrant.","operationId":"kg_export_api_kg_export_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10000,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/kg/neighbors":{"get":{"tags":["arch_team"],"summary":"Kg Neighbors","description":"1-hop neighborhood of a node.","operationId":"kg_neighbors_api_kg_neighbors_get","parameters":[{"name":"node_id","in":"query","required":true,"schema":{"type":"string","title":"Node Id"}},{"name":"rel","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rel"}},{"name":"dir","in":"query","required":false,"schema":{"type":"string","default":"both","title":"Dir"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":200,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/kg/search/semantic":{"post":{"tags":["arch_team"],"summary":"Kg Search Semantic","description":"Semantic duplicate detection using Qdrant.","operationId":"kg_search_semantic_api_kg_search_semantic_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SemanticSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rag/duplicates":{"post":{"tags":["arch_team"],"summary":"Rag Find Duplicates","description":"Find semantic duplicate requirements using embeddings.","operationId":"rag_find_duplicates_api_rag_duplicates_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RAGDuplicatesRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rag/search":{"post":{"tags":["arch_team"],"summary":"Rag Semantic Search","description":"Semantic search for requirements similar to query.","operationId":"rag_semantic_search_api_rag_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RAGSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rag/related":{"post":{"tags":["arch_team"],"summary":"Rag Get Related","description":"Find requirements related to a specific requirement.","operationId":"rag_get_related_api_rag_related_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RAGRelatedRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rag/coverage":{"post":{"tags":["arch_team"],"summary":"Rag Analyze Coverage","description":"Analyze requirement coverage across categories.","operationId":"rag_analyze_coverage_api_rag_coverage_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RAGCoverageRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/validation/run":{"post":{"tags":["arch_team"],"summary":"Validation Run","description":"Run Society of Mind requirements validation with user clarification support.","operationId":"validation_run_api_validation_run_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationRunRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/clarification/stream":{"get":{"tags":["arch_team"],"summary":"Clarification Stream","description":"Server-Sent Events stream for real-time clarification questions.","operationId":"clarification_stream_api_clarification_stream_get","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/workflow/stream":{"get":{"tags":["arch_team"],"summary":"Workflow Stream","description":"Server-Sent Events stream for real-time workflow messages.","operationId":"workflow_stream_api_workflow_stream_get","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/clarification/answer":{"post":{"tags":["arch_team"],"summary":"Clarification Answer","description":"Receive user's answer to a clarification question.","operationId":"clarification_answer_api_clarification_answer_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClarificationAnswerRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/requirements/versions":{"get":{"tags":["arch_team"],"summary":"List Requirement Versions","description":"List all stored requirement versions.","operationId":"list_requirement_versions_api_requirements_versions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/requirements/store":{"post":{"tags":["arch_team"],"summary":"Store Requirements","description":"Store enhanced validated requirements to a versioned Qdrant collection.","operationId":"store_requirements_api_requirements_store_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreRequirementsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/requirements/{version}":{"get":{"tags":["arch_team"],"summary":"Get Requirements By Version","description":"Get all requirements from a specific version.","operationId":"get_requirements_by_version_api_requirements__version__get","parameters":[{"name":"version","in":"path","required":true,"schema":{"type":"string","title":"Version"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10000,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["arch_team"],"summary":"Delete Requirements Version","description":"Delete a requirements version collection.","operationId":"delete_requirements_version_api_requirements__version__delete","parameters":[{"name":"version","in":"path","required":true,"schema":{"type":"string","title":"Version"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/requirements/search":{"post":{"tags":["arch_team"],"summary":"Search Requirements In Version","description":"Semantic search within a specific version.","operationId":"search_requirements_in_version_api_requirements_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchRequirementsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/arch_team/process":{"post":{"tags":["arch_team"],"summary":"Arch Team Process","description":"Master Society of Mind endpoint for complete arch_team workflow.\n\nExecutes all phases:\n1. ChunkMiner: Extract requirements from uploaded files\n2. KG Agent: Build Knowledge Graph\n3. Validator: Evaluate and improve requirements\n4. RAG: Detect duplicates and cluster requirements\n5. QA: Final quality review\n6. UserClarification: Ask user if needed","operationId":"arch_team_process_api_arch_team_process_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_arch_team_process_api_arch_team_process_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/runtime-config":{"get":{"summary":"Runtime Config V2","operationId":"runtime_config_v2_api_runtime_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ready":{"get":{"summary":"Readiness","operationId":"readiness_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/livez":{"get":{"summary":"Liveness","operationId":"liveness_livez_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ApplyAnswersRequest":{"properties":{"session_id":{"type":"string","title":"Session Id"},"items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Items"}},"type":"object","required":["session_id","items"],"title":"ApplyAnswersRequest","description":"Request to apply user answers and enhance requirements."},"ApplyAnswersResponse":{"properties":{"total_enhanced":{"type":"integer","title":"Total Enhanced"},"passed_count":{"type":"integer","title":"Passed Count"},"failed_count":{"type":"integer","title":"Failed Count"},"results":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Results"},"success":{"type":"boolean","title":"Success"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["total_enhanced","passed_count","failed_count","results","success"],"title":"ApplyAnswersResponse","description":"Response after applying answers."},"AutoEnhanceBatchRequest":{"properties":{"requirements":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Requirements"},"quality_threshold":{"type":"number","title":"Quality Threshold","default":0.7},"max_iterations":{"type":"integer","title":"Max Iterations","default":3}},"type":"object","required":["requirements"],"title":"AutoEnhanceBatchRequest","description":"Request for automatic batch enhancement without user input."},"AutoEnhanceBatchResponse":{"properties":{"total_processed":{"type":"integer","title":"Total Processed"},"passed_count":{"type":"integer","title":"Passed Count"},"failed_count":{"type":"integer","title":"Failed Count"},"improved_count":{"type":"integer","title":"Improved Count"},"average_score":{"type":"number","title":"Average Score"},"total_time_ms":{"type":"integer","title":"Total Time Ms"},"results":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Results"},"success":{"type":"boolean","title":"Success"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["total_processed","passed_count","failed_count","improved_count","average_score","total_time_ms","results","success"],"title":"AutoEnhanceBatchResponse","description":"Response from auto-batch enhancement."},"BatchQuestionReport":{"properties":{"total_requirements":{"type":"integer","title":"Total Requirements"},"requirements_needing_input":{"type":"integer","title":"Requirements Needing Input"},"total_questions":{"type":"integer","title":"Total Questions"},"items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Items"},"session_id":{"type":"string","title":"Session Id"},"success":{"type":"boolean","title":"Success"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["total_requirements","requirements_needing_input","total_questions","items","session_id","success"],"title":"BatchQuestionReport","description":"Complete report of questions for all requirements."},"BatchQuestionRequest":{"properties":{"requirements":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Requirements"},"quality_threshold":{"type":"number","title":"Quality Threshold","default":0.7}},"type":"object","required":["requirements"],"title":"BatchQuestionRequest","description":"Request to collect questions for multiple requirements."},"BatchResultItem":{"properties":{"id":{"type":"string","title":"Id"},"scores":{"additionalProperties":{"type":"number"},"type":"object","title":"Scores"},"summary":{"type":"string","title":"Summary"},"success":{"type":"boolean","title":"Success"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["id","scores","summary","success"],"title":"BatchResultItem","description":"Single result item from batch"},"BatchResultsResponse":{"properties":{"batch_id":{"type":"string","title":"Batch Id"},"results":{"items":{"$ref":"#/components/schemas/BatchResultItem"},"type":"array","title":"Results"},"total_count":{"type":"integer","title":"Total Count"},"success_count":{"type":"integer","title":"Success Count"},"failed_count":{"type":"integer","title":"Failed Count"}},"type":"object","required":["batch_id","results","total_count","success_count","failed_count"],"title":"BatchResultsResponse","description":"Response with batch results"},"BatchStatusResponse":{"properties":{"batch_id":{"type":"string","title":"Batch Id"},"status":{"type":"string","title":"Status"},"request_count":{"type":"integer","title":"Request Count"},"completed_count":{"type":"integer","title":"Completed Count"},"failed_count":{"type":"integer","title":"Failed Count"},"progress_percent":{"type":"number","title":"Progress Percent"},"output_file_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Output File Id"}},"type":"object","required":["batch_id","status","request_count","completed_count","failed_count","progress_percent"],"title":"BatchStatusResponse","description":"Response for batch status check"},"BatchSubmitRequest":{"properties":{"requirements":{"items":{"$ref":"#/components/schemas/RequirementInput"},"type":"array","maxItems":1000,"minItems":1,"title":"Requirements"},"metadata":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Metadata"},"wait":{"type":"boolean","title":"Wait","description":"If true, wait for completion (sync mode)","default":false}},"type":"object","required":["requirements"],"title":"BatchSubmitRequest","description":"Request to submit a batch of requirements"},"BatchSubmitResponse":{"properties":{"batch_id":{"type":"string","title":"Batch Id"},"status":{"type":"string","title":"Status"},"request_count":{"type":"integer","title":"Request Count"},"message":{"type":"string","title":"Message"}},"type":"object","required":["batch_id","status","request_count","message"],"title":"BatchSubmitResponse","description":"Response after submitting a batch"},"Body_arch_team_process_api_arch_team_process_post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files"},"correlation_id":{"type":"string","title":"Correlation Id"},"model":{"type":"string","title":"Model","default":"gpt-4o-mini"},"provider":{"type":"string","title":"Provider","default":"openai"},"chunk_size":{"type":"string","title":"Chunk Size","default":"800"},"chunk_overlap":{"type":"string","title":"Chunk Overlap","default":"200"},"use_llm_kg":{"type":"string","title":"Use Llm Kg","default":"true"},"validation_threshold":{"type":"string","title":"Validation Threshold","default":"0.7"}},"type":"object","required":["files","correlation_id"],"title":"Body_arch_team_process_api_arch_team_process_post"},"Body_lx_extract_v2_api_v1_lx_extract_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files"},"configId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Configid"},"chunkMode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunkmode"},"chunkMin":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Chunkmin"},"chunkMax":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Chunkmax"},"chunkOverlap":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Chunkoverlap"},"structured":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Structured"},"fast":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Fast"},"temperature":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Temperature"}},"type":"object","title":"Body_lx_extract_v2_api_v1_lx_extract_post"},"Body_mining_upload_api_mining_upload_post":{"properties":{"file":{"items":{"type":"string","format":"binary"},"type":"array","title":"File"},"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"},"neighbor_refs":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Neighbor Refs"},"chunk_size":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Size"},"chunk_overlap":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Overlap"}},"type":"object","title":"Body_mining_upload_api_mining_upload_post"},"Body_structure_analyze_endpoint_fastapi_api_v1_structure_analyze_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files"},"use_wtpsplit":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Wtpsplit","default":false}},"type":"object","title":"Body_structure_analyze_endpoint_fastapi_api_v1_structure_analyze_post"},"Body_structure_graph_export_fastapi_api_v1_structure_graph_export_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files"},"components":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Components"}},"type":"object","title":"Body_structure_graph_export_fastapi_api_v1_structure_graph_export_post"},"ClarificationAnswerRequest":{"properties":{"correlation_id":{"type":"string","title":"Correlation Id"},"answer":{"type":"string","title":"Answer"}},"type":"object","required":["correlation_id","answer"],"title":"ClarificationAnswerRequest"},"CreateProjectRequest":{"properties":{"template_id":{"type":"string","title":"Template Id"},"project_name":{"type":"string","title":"Project Name"},"requirements":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Requirements"},"output_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Output Path"}},"type":"object","required":["template_id","project_name"],"title":"CreateProjectRequest","description":"Request model for project creation."},"CreateProjectResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Path"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"files_created":{"type":"integer","title":"Files Created","default":0}},"type":"object","required":["success"],"title":"CreateProjectResponse","description":"Response model for project creation."},"DetectRequest":{"properties":{"requirements":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Requirements"},"prefer_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prefer Category"},"min_confidence":{"type":"number","title":"Min Confidence","default":0.3}},"type":"object","required":["requirements"],"title":"DetectRequest","description":"Request model for tech stack detection."},"DetectResponse":{"properties":{"recommended_template":{"type":"string","title":"Recommended Template"},"confidence":{"type":"number","title":"Confidence"},"scores":{"additionalProperties":true,"type":"object","title":"Scores"},"reasons":{"items":{"type":"string"},"type":"array","title":"Reasons"},"alternative_templates":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Alternative Templates"}},"type":"object","required":["recommended_template","confidence","scores","reasons","alternative_templates"],"title":"DetectResponse","description":"Response model for tech stack detection."},"EnhancementRequest":{"properties":{"requirement_text":{"type":"string","minLength":10,"title":"Requirement Text"},"context":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Context"}},"type":"object","required":["requirement_text"],"title":"EnhancementRequest","description":"Request to enhance a requirement"},"EnhancementResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"current_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Text"},"score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Score"},"pending_question":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Pending Question"}},"type":"object","required":["session_id","status","message"],"title":"EnhancementResponse","description":"Response from enhancement request"},"ErrorResponse":{"properties":{"error":{"type":"string","title":"Error","description":"Fehlercode, z. B. invalid_request, internal_error"},"message":{"type":"string","title":"Message","description":"Menschlich lesbare Fehlermeldung"},"details":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Details","description":"Optionale Detailinformationen (z. B. request_id)"}},"type":"object","required":["error","message"],"title":"ErrorResponse"},"EvalDetailV2":{"properties":{"criterion":{"type":"string","title":"Criterion","description":"Kriteriumsschluessel, z. B. clarity|testability|measurability"},"score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Score","description":"Score 0..1","default":0.0},"passed":{"type":"boolean","title":"Passed","description":"true, wenn Schwelle fuer dieses Kriterium erreicht"},"feedback":{"type":"string","title":"Feedback","description":"Optionale Begruendung/Rueckmeldung des LLM/Heuristik","default":""}},"type":"object","required":["criterion","passed"],"title":"EvalDetailV2"},"EvaluateBatchItem":{"properties":{"id":{"type":"string","title":"Id","description":"Item-Id (z. B. 'item-1')"},"originalText":{"type":"string","title":"Originaltext","description":"Originaltext der Anforderung"},"evaluation":{"items":{"$ref":"#/components/schemas/EvalDetailV2"},"type":"array","title":"Evaluation","description":"Bewertungsdetails je Kriterium"},"score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Score","description":"Aggregierter Score 0..1"},"verdict":{"type":"string","title":"Verdict","description":"pass|fail"}},"type":"object","required":["id","originalText","score","verdict"],"title":"EvaluateBatchItem"},"EvaluateBatchRequest":{"properties":{"items":{"items":{"type":"string"},"type":"array","title":"Items"},"criteria_keys":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Criteria Keys"},"threshold":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Threshold"},"context":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Context"}},"type":"object","required":["items"],"title":"EvaluateBatchRequest"},"EvaluateBatchRequestV2":{"properties":{"items":{"items":{"type":"string"},"type":"array","title":"Items","description":"Liste von Requirement-Texten"},"context":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Context","description":"Kontextobjekt (optional, global)"},"criteria_keys":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Criteria Keys","description":"Teilmenge der Kriterien; Default: alle aktiven"},"threshold":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Threshold","description":"Schwellwert fuer Gesamtscore (verdict)"}},"type":"object","required":["items"],"title":"EvaluateBatchRequestV2"},"EvaluateSingleResponse":{"properties":{"requirementText":{"type":"string","title":"Requirementtext","description":"Originaltext der Anforderung"},"evaluation":{"items":{"$ref":"#/components/schemas/EvalDetailV2"},"type":"array","title":"Evaluation","description":"Bewertungsdetails je Kriterium"},"score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Score","description":"Aggregierter Score 0..1"},"verdict":{"type":"string","title":"Verdict","description":"pass|fail"}},"type":"object","required":["requirementText","score","verdict"],"title":"EvaluateSingleResponse"},"EvaluationDetail":{"properties":{"criterion":{"type":"string","title":"Criterion"},"isValid":{"type":"boolean","title":"Isvalid"},"reason":{"type":"string","title":"Reason"}},"type":"object","required":["criterion","isValid","reason"],"title":"EvaluationDetail"},"EvidenceReference":{"properties":{"source_file":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source File","description":"Original filename of source document"},"sha1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sha1","description":"SHA1 hash of source document (from ChunkMiner)"},"chunk_index":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Chunk Index","description":"Position in chunked document (0-based)"},"is_neighbor":{"type":"boolean","title":"Is Neighbor","description":"Flag indicating ±1 chunk context (neighbor evidence)","default":false},"evidence_metadata":{"additionalProperties":true,"type":"object","title":"Evidence Metadata","description":"Additional evidence metadata (JSON)"}},"type":"object","title":"EvidenceReference","description":"Evidence reference tracking for requirement source provenance"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"KGBuildRequest":{"properties":{"items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Items"},"data":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Data"},"options":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Options"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"}},"type":"object","title":"KGBuildRequest"},"KGRebuildRequest":{"properties":{"force":{"type":"boolean","title":"Force","default":false}},"type":"object","title":"KGRebuildRequest","description":"Request model for KG rebuild."},"KGUpdateRequest":{"properties":{"requirements":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Requirements"},"version":{"type":"string","title":"Version"},"template_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Template Id"}},"type":"object","required":["requirements","version"],"title":"KGUpdateRequest","description":"Request model for KG update with requirements."},"ManifestChildrenResponse":{"properties":{"parent_id":{"type":"string","title":"Parent Id","description":"Parent requirement ID"},"children":{"items":{"$ref":"#/components/schemas/RequirementManifest"},"type":"array","title":"Children","description":"Child manifests (if split)"},"split_relationships":{"items":{"$ref":"#/components/schemas/SplitRelationship"},"type":"array","title":"Split Relationships","description":"Split relationship metadata"}},"type":"object","required":["parent_id"],"title":"ManifestChildrenResponse","description":"Response for GET /api/v1/manifest/{requirement_id}/children"},"ManifestTimelineResponse":{"properties":{"requirement_id":{"type":"string","title":"Requirement Id","description":"Requirement ID"},"timeline":{"items":{"$ref":"#/components/schemas/ProcessingStage"},"type":"array","title":"Timeline","description":"Chronological processing stages"}},"type":"object","required":["requirement_id"],"title":"ManifestTimelineResponse","description":"Response for GET /api/v1/manifest/{requirement_id}/timeline"},"MatchRequest":{"properties":{"requirement_text":{"type":"string","title":"Requirement Text"},"top_k":{"type":"integer","title":"Top K","default":5}},"type":"object","required":["requirement_text"],"title":"MatchRequest","description":"Request model for semantic matching."},"MiningReportRequest":{"properties":{"items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"MiningReportRequest"},"PipelineProcessRequest":{"properties":{"validated_requirements":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Validated Requirements"},"version":{"type":"string","title":"Version"},"selected_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Selected Template"}},"type":"object","required":["validated_requirements","version"],"title":"PipelineProcessRequest","description":"Request model for final pipeline step."},"ProcessingStage":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id","description":"Auto-incremented stage ID"},"requirement_id":{"type":"string","title":"Requirement Id","description":"Requirement ID (FK to requirement_manifest)"},"stage_name":{"type":"string","title":"Stage Name","description":"Stage name: input|mining|evaluation|atomicity|suggestion|rewrite|validation|completed|failed"},"status":{"type":"string","title":"Status","description":"Stage status: pending|in_progress|completed|failed"},"started_at":{"type":"string","title":"Started At","description":"Stage start timestamp (ISO 8601)"},"completed_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Completed At","description":"Stage completion timestamp (ISO 8601)"},"evaluation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Evaluation Id","description":"Link to evaluation table (if applicable)"},"score":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Score","description":"Overall score for this stage"},"verdict":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Verdict","description":"Verdict: pass|fail"},"atomic_score":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Atomic Score","description":"Atomic criterion score (atomicity stage)"},"was_split":{"type":"boolean","title":"Was Split","description":"Flag indicating requirement was split in this stage","default":false},"model_used":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Used","description":"LLM model used (e.g., gpt-4o-mini)"},"latency_ms":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Latency Ms","description":"Processing time in milliseconds"},"token_usage":{"anyOf":[{"additionalProperties":{"type":"integer"},"type":"object"},{"type":"null"}],"title":"Token Usage","description":"Token usage: {prompt_tokens, completion_tokens, total_tokens}"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"Error details if status=failed"},"stage_metadata":{"additionalProperties":true,"type":"object","title":"Stage Metadata","description":"Stage-specific additional data (JSON)"}},"type":"object","required":["requirement_id","stage_name","status","started_at"],"title":"ProcessingStage","description":"Processing stage timeline entry for requirement lifecycle tracking"},"QuestionResponse":{"properties":{"id":{"type":"integer","title":"Id"},"validation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Validation Id"},"requirement_id":{"type":"string","title":"Requirement Id"},"criterion":{"type":"string","title":"Criterion"},"question_text":{"type":"string","title":"Question Text"},"suggested_answers":{"items":{"type":"string"},"type":"array","title":"Suggested Answers"},"context_hint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Hint"},"status":{"type":"string","title":"Status"},"answer_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Answer Text"},"created_at":{"type":"string","title":"Created At"},"answered_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Answered At"},"applied_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Applied Text"}},"type":"object","required":["id","requirement_id","criterion","question_text","suggested_answers","status","created_at"],"title":"QuestionResponse","description":"Response for a single clarification question."},"RAGCoverageRequest":{"properties":{"requirements":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Requirements"},"categories":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Categories"}},"type":"object","required":["requirements"],"title":"RAGCoverageRequest"},"RAGDuplicatesRequest":{"properties":{"requirements":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Requirements"},"similarity_threshold":{"type":"number","title":"Similarity Threshold","default":0.9},"method":{"type":"string","title":"Method","default":"embedding"}},"type":"object","required":["requirements"],"title":"RAGDuplicatesRequest"},"RAGRelatedRequest":{"properties":{"requirement_id":{"type":"string","title":"Requirement Id"},"requirements":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Requirements"},"top_k":{"type":"integer","title":"Top K","default":5},"relationship_types":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Relationship Types"}},"type":"object","required":["requirement_id","requirements"],"title":"RAGRelatedRequest"},"RAGSearchRequest":{"properties":{"query":{"type":"string","title":"Query"},"requirements":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Requirements"},"top_k":{"type":"integer","title":"Top K","default":10},"min_score":{"type":"number","title":"Min Score","default":0.7},"use_qdrant":{"type":"boolean","title":"Use Qdrant","default":true}},"type":"object","required":["query"],"title":"RAGSearchRequest"},"RequirementInput":{"properties":{"id":{"type":"string","title":"Id","description":"Unique requirement ID"},"text":{"type":"string","title":"Text","description":"Requirement text to evaluate"},"context":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Context","description":"Optional context"}},"type":"object","required":["id","text"],"title":"RequirementInput","description":"Single requirement for batch processing"},"RequirementManifest":{"properties":{"requirement_id":{"type":"string","title":"Requirement Id","description":"Stable requirement ID: REQ-{sha1[:6]}-{chunk:03d}"},"requirement_checksum":{"type":"string","title":"Requirement Checksum","description":"SHA256 hash of current requirement text"},"source_type":{"type":"string","title":"Source Type","description":"Source type: upload|manual|chunk_miner|api"},"source_file":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source File","description":"Original filename (if applicable)"},"source_file_sha1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source File Sha1","description":"Document SHA1 hash (from ChunkMiner)"},"chunk_index":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Chunk Index","description":"Position in chunked document (0-based)"},"original_text":{"type":"string","title":"Original Text","description":"Initial raw requirement text (immutable)"},"current_text":{"type":"string","title":"Current Text","description":"Latest version after processing (updated after rewrites)"},"current_stage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Stage","description":"Latest processing stage name"},"parent_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Id","description":"Parent requirement ID (for split requirements)"},"created_at":{"type":"string","title":"Created At","description":"Creation timestamp (ISO 8601)"},"updated_at":{"type":"string","title":"Updated At","description":"Last update timestamp (ISO 8601)"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","description":"Additional metadata (JSON)"},"processing_stages":{"items":{"$ref":"#/components/schemas/ProcessingStage"},"type":"array","title":"Processing Stages","description":"Full timeline of processing stages"},"evidence_refs":{"items":{"$ref":"#/components/schemas/EvidenceReference"},"type":"array","title":"Evidence Refs","description":"Source evidence references"},"split_children":{"items":{"type":"string"},"type":"array","title":"Split Children","description":"Child requirement IDs (if split)"}},"type":"object","required":["requirement_id","requirement_checksum","source_type","original_text","current_text","created_at","updated_at"],"title":"RequirementManifest","description":"Main manifest tracking requirement from source to final state"},"SearchRequirementsRequest":{"properties":{"query":{"type":"string","title":"Query"},"version":{"type":"string","title":"Version"},"top_k":{"type":"integer","title":"Top K","default":10}},"type":"object","required":["query","version"],"title":"SearchRequirementsRequest"},"SemanticSearchRequest":{"properties":{"requirements":{"items":{"type":"string"},"type":"array","title":"Requirements"},"similarity_threshold":{"type":"number","title":"Similarity Threshold","default":0.9}},"type":"object","required":["requirements"],"title":"SemanticSearchRequest"},"SessionStatusResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"status":{"type":"string","title":"Status"},"original_text":{"type":"string","title":"Original Text"},"current_text":{"type":"string","title":"Current Text"},"score":{"type":"number","title":"Score"},"iteration":{"type":"integer","title":"Iteration"},"questions_answered":{"type":"integer","title":"Questions Answered"},"pending_question":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Pending Question"},"identified_purpose":{"type":"string","title":"Identified Purpose","default":""},"identified_gaps":{"items":{"type":"string"},"type":"array","title":"Identified Gaps","default":[]}},"type":"object","required":["session_id","status","original_text","current_text","score","iteration","questions_answered"],"title":"SessionStatusResponse","description":"Status of an enhancement session"},"SkipRequest":{"properties":{"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"}},"type":"object","title":"SkipRequest","description":"Request to skip a clarification question."},"SplitRelationship":{"properties":{"parent_id":{"type":"string","title":"Parent Id","description":"Parent requirement ID"},"child_id":{"type":"string","title":"Child Id","description":"Child requirement ID"},"split_rationale":{"type":"string","title":"Split Rationale","description":"Explanation for split (from AtomicityAgent)"},"split_timestamp":{"type":"string","title":"Split Timestamp","description":"Split timestamp (ISO 8601)"},"split_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Split Model","description":"Model used for splitting (e.g., gpt-4o-mini)"}},"type":"object","required":["parent_id","child_id","split_rationale","split_timestamp"],"title":"SplitRelationship","description":"Parent-child split relationship (when AtomicityAgent splits requirements)"},"StoreRequirementsRequest":{"properties":{"requirements":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Requirements"},"version":{"type":"string","title":"Version","default":"auto"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["requirements"],"title":"StoreRequirementsRequest"},"SuggestAtom":{"properties":{"correction":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Correction","description":"Vorgeschlagene neue Fassung oder Teilkorrektur"},"acceptance_criteria":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Acceptance Criteria","description":"Gherkin-ähnliche Kriterien"},"metrics":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Metrics","description":"Messkriterien/Schwellen"},"criteria":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Criteria","description":"Heuristische Kriterien-Flags"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"original_fragment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Original Fragment"}},"type":"object","title":"SuggestAtom"},"SuggestionsForReq":{"properties":{"suggestions":{"items":{"$ref":"#/components/schemas/SuggestAtom"},"type":"array","title":"Suggestions"}},"type":"object","title":"SuggestionsForReq"},"SummaryResponse":{"properties":{"total":{"type":"integer","title":"Total"},"pending":{"type":"integer","title":"Pending"},"answered":{"type":"integer","title":"Answered"},"skipped":{"type":"integer","title":"Skipped"},"expired":{"type":"integer","title":"Expired"},"by_status":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Status"},"by_criterion":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Criterion"}},"type":"object","required":["total","pending","answered","skipped","expired","by_status","by_criterion"],"title":"SummaryResponse","description":"Response for clarification summary statistics."},"TransformRequest":{"properties":{"requirements":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Requirements"},"template_id":{"type":"string","title":"Template Id"}},"type":"object","required":["requirements","template_id"],"title":"TransformRequest","description":"Request model for requirements transformation."},"ValidateBatchRequest":{"properties":{"items":{"items":{"type":"string"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"ValidateBatchRequest"},"ValidateItemResult":{"properties":{"id":{"type":"integer","title":"Id"},"originalText":{"type":"string","title":"Originaltext"},"correctedText":{"type":"string","title":"Correctedtext"},"status":{"type":"string","title":"Status"},"evaluation":{"items":{"$ref":"#/components/schemas/EvaluationDetail"},"type":"array","title":"Evaluation"},"score":{"type":"number","title":"Score","default":0.0},"verdict":{"type":"string","title":"Verdict"},"suggestions":{"anyOf":[{"items":{"$ref":"#/components/schemas/SuggestAtom"},"type":"array"},{"type":"null"}],"title":"Suggestions"},"manifest":{"anyOf":[{"$ref":"#/components/schemas/RequirementManifest"},{"type":"null"}],"description":"Linked requirement manifest (if tracking enabled)"}},"type":"object","required":["id","originalText","correctedText","status","verdict"],"title":"ValidateItemResult"},"ValidateSuggestResponse":{"properties":{"items":{"additionalProperties":{"$ref":"#/components/schemas/SuggestionsForReq"},"type":"object","title":"Items"}},"type":"object","required":["items"],"title":"ValidateSuggestResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"ValidationRunRequest":{"properties":{"requirements":{"items":{"type":"string"},"type":"array","title":"Requirements"},"correlation_id":{"type":"string","title":"Correlation Id"},"criteria_keys":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Criteria Keys"},"threshold":{"type":"number","title":"Threshold","default":0.7}},"type":"object","required":["requirements","correlation_id"],"title":"ValidationRunRequest"},"backend__routers__arch_team_router__EvaluateSingleRequest":{"properties":{"text":{"type":"string","title":"Text"},"criteria_keys":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Criteria Keys"},"threshold":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Threshold"},"context":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Context"}},"type":"object","required":["text"],"title":"EvaluateSingleRequest"},"backend__routers__clarification_router__AnswerRequest":{"properties":{"answer_text":{"type":"string","title":"Answer Text"},"apply_to_requirement":{"type":"boolean","title":"Apply To Requirement","default":true}},"type":"object","required":["answer_text"],"title":"AnswerRequest","description":"Request to answer a clarification question."},"backend__routers__enhancement_ws_router__AnswerRequest":{"properties":{"answer":{"type":"string","minLength":1,"title":"Answer"}},"type":"object","required":["answer"],"title":"AnswerRequest","description":"User's answer to a clarification question"},"backend__schemas__EvaluateSingleRequest":{"properties":{"text":{"type":"string","title":"Text","description":"Zu bewertender Requirement-Text"},"context":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Context","description":"Kontextobjekt (optional)"},"criteria_keys":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Criteria Keys","description":"Teilmenge der Kriterien; Default: alle aktiven"},"threshold":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Threshold","description":"Schwellwert fuer Gesamtscore (verdict)"}},"type":"object","required":["text"],"title":"EvaluateSingleRequest"}}}}