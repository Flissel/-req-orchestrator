<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Expo Mobile App - Development Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config = { darkMode: 'class' }</script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css" />
  <style>
    .qr-code { image-rendering: pixelated; }
    .device-frame { border-radius: 36px; }
    .device-screen { border-radius: 28px; }
    .pulse { animation: pulse 2s infinite; }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
  </style>
</head>
<body class="bg-gray-950 text-gray-100 min-h-screen">
  <!-- Header -->
  <header class="bg-gray-900 border-b border-gray-800 px-4 py-3 flex items-center justify-between">
    <div class="flex items-center gap-4">
      <h1 class="text-lg font-semibold flex items-center gap-2">
        <span class="text-2xl">ðŸ“±</span> Expo Development Dashboard
      </h1>
      <div id="status" class="flex items-center gap-2">
        <span class="w-2 h-2 rounded-full bg-yellow-500 pulse"></span>
        <span class="text-sm text-yellow-400">Starting...</span>
      </div>
    </div>
    <div class="flex items-center gap-3">
      <button onclick="openExpoGo()" class="px-3 py-1.5 bg-purple-600 hover:bg-purple-700 rounded text-sm font-medium">
        Open in Expo Go
      </button>
      <button onclick="toggleTheme()" id="themeBtn" class="p-2 hover:bg-gray-800 rounded">
        <span class="mdi mdi-weather-night text-xl"></span>
      </button>
      <button onclick="showHelp()" class="p-2 hover:bg-gray-800 rounded">
        <span class="mdi mdi-help-circle-outline text-xl"></span>
      </button>
    </div>
  </header>

  <div class="flex h-[calc(100vh-57px)]">
    <!-- Sidebar: Device & QR -->
    <aside class="w-80 bg-gray-900 border-r border-gray-800 overflow-y-auto">
      <div class="p-4 space-y-6">
        <!-- QR Code Section -->
        <div>
          <h2 class="font-semibold mb-3 text-sm text-gray-400 uppercase tracking-wide">Scan with Expo Go</h2>
          <div class="bg-white p-4 rounded-lg flex items-center justify-center">
            <canvas id="qr-code" class="qr-code" width="180" height="180"></canvas>
          </div>
          <p class="text-xs text-gray-500 mt-2 text-center">exp://192.168.1.100:19000</p>
          <button onclick="copyLink()" class="w-full mt-2 px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded text-sm">
            <span class="mdi mdi-content-copy mr-1"></span> Copy Link
          </button>
        </div>

        <!-- Device Selector -->
        <div>
          <h2 class="font-semibold mb-3 text-sm text-gray-400 uppercase tracking-wide">Device Simulator</h2>
          <select id="device-select" onchange="changeDevice()" class="w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm">
            <optgroup label="iOS">
              <option value="iphone-15-pro">iPhone 15 Pro</option>
              <option value="iphone-15">iPhone 15</option>
              <option value="iphone-se">iPhone SE</option>
              <option value="ipad-pro">iPad Pro 12.9"</option>
            </optgroup>
            <optgroup label="Android">
              <option value="pixel-8">Pixel 8 Pro</option>
              <option value="galaxy-s24">Galaxy S24 Ultra</option>
              <option value="pixel-tablet">Pixel Tablet</option>
            </optgroup>
          </select>
        </div>

        <!-- Connected Devices -->
        <div>
          <h2 class="font-semibold mb-3 text-sm text-gray-400 uppercase tracking-wide flex items-center justify-between">
            Connected Devices
            <span class="text-xs bg-green-600 px-2 py-0.5 rounded-full">2</span>
          </h2>
          <div class="space-y-2">
            <div class="flex items-center gap-3 p-2 bg-gray-800/50 rounded">
              <span class="mdi mdi-apple text-2xl text-gray-400"></span>
              <div class="flex-1 min-w-0">
                <p class="text-sm font-medium truncate">iPhone 15 Pro</p>
                <p class="text-xs text-gray-500">iOS 17.2 - Physical</p>
              </div>
              <span class="w-2 h-2 rounded-full bg-green-500"></span>
            </div>
            <div class="flex items-center gap-3 p-2 bg-gray-800/50 rounded">
              <span class="mdi mdi-android text-2xl text-green-400"></span>
              <div class="flex-1 min-w-0">
                <p class="text-sm font-medium truncate">Pixel 8 Emulator</p>
                <p class="text-xs text-gray-500">Android 14 - Simulator</p>
              </div>
              <span class="w-2 h-2 rounded-full bg-green-500"></span>
            </div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div>
          <h2 class="font-semibold mb-3 text-sm text-gray-400 uppercase tracking-wide">Quick Actions</h2>
          <div class="grid grid-cols-2 gap-2">
            <button onclick="reloadApp()" class="p-3 bg-gray-800 hover:bg-gray-700 rounded text-center">
              <span class="mdi mdi-refresh text-xl text-blue-400 block mb-1"></span>
              <span class="text-xs">Reload</span>
            </button>
            <button onclick="openDevMenu()" class="p-3 bg-gray-800 hover:bg-gray-700 rounded text-center">
              <span class="mdi mdi-menu text-xl text-purple-400 block mb-1"></span>
              <span class="text-xs">Dev Menu</span>
            </button>
            <button onclick="toggleInspector()" class="p-3 bg-gray-800 hover:bg-gray-700 rounded text-center">
              <span class="mdi mdi-magnify text-xl text-green-400 block mb-1"></span>
              <span class="text-xs">Inspector</span>
            </button>
            <button onclick="shakeDevice()" class="p-3 bg-gray-800 hover:bg-gray-700 rounded text-center">
              <span class="mdi mdi-vibrate text-xl text-orange-400 block mb-1"></span>
              <span class="text-xs">Shake</span>
            </button>
          </div>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex">
      <!-- Device Preview -->
      <div class="flex-1 flex items-center justify-center bg-gray-950 p-8">
        <div id="device-frame" class="device-frame bg-gray-800 p-3 shadow-2xl" style="width: 320px;">
          <!-- Dynamic Island / Notch -->
          <div class="flex justify-center mb-2">
            <div class="bg-black rounded-full w-24 h-6"></div>
          </div>
          <!-- Screen -->
          <div id="device-screen" class="device-screen bg-white overflow-hidden relative" style="height: 640px;">
            <!-- App Preview (iframe or placeholder) -->
            <div class="absolute inset-0 flex flex-col">
              <!-- Status Bar -->
              <div class="bg-gray-100 px-4 py-1 flex items-center justify-between text-black text-xs">
                <span>9:41</span>
                <div class="flex items-center gap-1">
                  <span class="mdi mdi-signal"></span>
                  <span class="mdi mdi-wifi"></span>
                  <span class="mdi mdi-battery"></span>
                </div>
              </div>
              <!-- App Content -->
              <div class="flex-1 bg-gradient-to-b from-blue-500 to-purple-600 p-6 flex flex-col items-center justify-center text-white">
                <div class="w-20 h-20 bg-white/20 rounded-2xl flex items-center justify-center mb-4">
                  <span class="text-4xl">ðŸ“±</span>
                </div>
                <h2 class="text-xl font-bold mb-2">My Expo App</h2>
                <p class="text-sm text-white/80 text-center">Open up App.js to start working on your app!</p>
                <div class="mt-8 bg-white/20 rounded-lg p-4 w-full">
                  <p class="text-xs font-mono">expo start --tunnel</p>
                </div>
                <button class="mt-4 bg-white text-purple-600 px-6 py-2 rounded-full font-semibold text-sm">
                  Get Started
                </button>
              </div>
              <!-- Tab Bar -->
              <div class="bg-gray-100 px-4 py-2 flex items-center justify-around text-gray-600 text-xs">
                <div class="flex flex-col items-center text-blue-600">
                  <span class="mdi mdi-home text-xl"></span>
                  <span>Home</span>
                </div>
                <div class="flex flex-col items-center">
                  <span class="mdi mdi-magnify text-xl"></span>
                  <span>Search</span>
                </div>
                <div class="flex flex-col items-center">
                  <span class="mdi mdi-cog text-xl"></span>
                  <span>Settings</span>
                </div>
              </div>
            </div>
            <!-- Hot Reload Indicator -->
            <div id="hot-reload" class="absolute top-12 left-1/2 -translate-x-1/2 bg-green-500 text-white text-xs px-3 py-1 rounded-full opacity-0 transition-opacity">
              Hot Reload
            </div>
          </div>
          <!-- Home Indicator -->
          <div class="flex justify-center mt-2">
            <div class="bg-gray-600 rounded-full w-32 h-1"></div>
          </div>
        </div>
      </div>

      <!-- Right Panel: DevTools -->
      <aside class="w-96 bg-gray-900 border-l border-gray-800 flex flex-col">
        <!-- Tabs -->
        <div class="flex border-b border-gray-800">
          <button onclick="switchTab('console')" class="tab-btn flex-1 px-4 py-3 text-sm font-medium border-b-2 border-purple-500 text-purple-400">
            Console
          </button>
          <button onclick="switchTab('network')" class="tab-btn flex-1 px-4 py-3 text-sm font-medium border-b-2 border-transparent text-gray-400 hover:text-white">
            Network
          </button>
          <button onclick="switchTab('components')" class="tab-btn flex-1 px-4 py-3 text-sm font-medium border-b-2 border-transparent text-gray-400 hover:text-white">
            Components
          </button>
        </div>

        <!-- Tab Content -->
        <div id="tab-console" class="tab-content flex-1 overflow-y-auto p-4 font-mono text-xs space-y-1">
          <div class="text-gray-500">[Metro] Starting packager...</div>
          <div class="text-green-400">[Metro] Ready on exp://192.168.1.100:19000</div>
          <div class="text-blue-400">[Device] iPhone 15 Pro connected</div>
          <div class="text-blue-400">[Device] Pixel 8 Emulator connected</div>
          <div class="text-yellow-400">[Warning] Possible Unhandled Promise Rejection</div>
          <div class="text-gray-400">[LOG] App mounted</div>
          <div class="text-gray-400">[LOG] Fetching user data...</div>
          <div class="text-green-400">[LOG] User data loaded: 42 items</div>
        </div>

        <div id="tab-network" class="tab-content flex-1 overflow-y-auto hidden">
          <table class="w-full text-xs">
            <thead class="bg-gray-800 sticky top-0">
              <tr>
                <th class="text-left p-2">Status</th>
                <th class="text-left p-2">Method</th>
                <th class="text-left p-2">URL</th>
                <th class="text-left p-2">Time</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-b border-gray-800 hover:bg-gray-800/50">
                <td class="p-2"><span class="text-green-400">200</span></td>
                <td class="p-2 text-blue-400">GET</td>
                <td class="p-2 truncate max-w-[150px]">/api/user</td>
                <td class="p-2 text-gray-500">45ms</td>
              </tr>
              <tr class="border-b border-gray-800 hover:bg-gray-800/50">
                <td class="p-2"><span class="text-green-400">200</span></td>
                <td class="p-2 text-yellow-400">POST</td>
                <td class="p-2 truncate max-w-[150px]">/api/analytics</td>
                <td class="p-2 text-gray-500">120ms</td>
              </tr>
              <tr class="border-b border-gray-800 hover:bg-gray-800/50">
                <td class="p-2"><span class="text-red-400">404</span></td>
                <td class="p-2 text-blue-400">GET</td>
                <td class="p-2 truncate max-w-[150px]">/api/missing</td>
                <td class="p-2 text-gray-500">12ms</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div id="tab-components" class="tab-content flex-1 overflow-y-auto p-4 hidden">
          <div class="space-y-1 text-sm font-mono">
            <div class="flex items-center gap-2">
              <span class="mdi mdi-chevron-down text-gray-500"></span>
              <span class="text-purple-400">&lt;App&gt;</span>
            </div>
            <div class="ml-4 flex items-center gap-2">
              <span class="mdi mdi-chevron-down text-gray-500"></span>
              <span class="text-blue-400">&lt;NavigationContainer&gt;</span>
            </div>
            <div class="ml-8 flex items-center gap-2">
              <span class="mdi mdi-chevron-down text-gray-500"></span>
              <span class="text-green-400">&lt;TabNavigator&gt;</span>
            </div>
            <div class="ml-12 flex items-center gap-2">
              <span class="mdi mdi-chevron-right text-gray-500"></span>
              <span class="text-orange-400">&lt;HomeScreen&gt;</span>
            </div>
            <div class="ml-12 flex items-center gap-2">
              <span class="mdi mdi-chevron-right text-gray-500"></span>
              <span class="text-orange-400">&lt;SearchScreen&gt;</span>
            </div>
            <div class="ml-12 flex items-center gap-2">
              <span class="mdi mdi-chevron-right text-gray-500"></span>
              <span class="text-orange-400">&lt;SettingsScreen&gt;</span>
            </div>
          </div>
        </div>

        <!-- Bottom Bar -->
        <div class="border-t border-gray-800 p-3 flex items-center justify-between text-xs text-gray-500">
          <span>Expo SDK 51 | React Native 0.74</span>
          <div class="flex items-center gap-2">
            <span class="w-2 h-2 rounded-full bg-green-500"></span>
            <span>Hot Reload Active</span>
          </div>
        </div>
      </aside>
    </main>
  </div>

  <!-- Help Modal -->
  <div id="help-modal" class="fixed inset-0 bg-black/70 flex items-center justify-center z-50 hidden">
    <div class="bg-gray-900 rounded-xl max-w-lg w-full mx-4 max-h-[80vh] overflow-hidden">
      <div class="p-4 border-b border-gray-800 flex items-center justify-between">
        <h2 class="text-lg font-semibold">Expo DevTools Help</h2>
        <button onclick="hideHelp()" class="p-1 hover:bg-gray-800 rounded">
          <span class="mdi mdi-close text-xl"></span>
        </button>
      </div>
      <div class="p-4 overflow-y-auto max-h-[60vh] space-y-4">
        <div>
          <h3 class="font-semibold text-purple-400 mb-2">Getting Started</h3>
          <p class="text-sm text-gray-400">Scan the QR code with the Expo Go app to preview your app on a physical device.</p>
        </div>
        <div>
          <h3 class="font-semibold text-purple-400 mb-2">Keyboard Shortcuts</h3>
          <ul class="text-sm text-gray-400 space-y-1">
            <li><kbd class="bg-gray-800 px-2 py-0.5 rounded">R</kbd> - Reload app</li>
            <li><kbd class="bg-gray-800 px-2 py-0.5 rounded">M</kbd> - Open dev menu</li>
            <li><kbd class="bg-gray-800 px-2 py-0.5 rounded">I</kbd> - Toggle inspector</li>
            <li><kbd class="bg-gray-800 px-2 py-0.5 rounded">D</kbd> - Open React DevTools</li>
          </ul>
        </div>
        <div>
          <h3 class="font-semibold text-purple-400 mb-2">Hot Reload</h3>
          <p class="text-sm text-gray-400">Changes to your code are automatically reflected in the app without losing state.</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Generate simple QR code (placeholder pattern)
    function generateQR() {
      const canvas = document.getElementById('qr-code');
      const ctx = canvas.getContext('2d');
      const size = 180;
      const cellSize = 6;

      ctx.fillStyle = '#000';
      ctx.fillRect(0, 0, size, size);
      ctx.fillStyle = '#fff';

      // Generate pseudo-random pattern
      for (let y = 0; y < size / cellSize; y++) {
        for (let x = 0; x < size / cellSize; x++) {
          // Fixed pattern corners
          if ((x < 7 && y < 7) || (x >= 23 && y < 7) || (x < 7 && y >= 23)) {
            if ((x < 7 && y < 7 && (x === 0 || x === 6 || y === 0 || y === 6 || (x >= 2 && x <= 4 && y >= 2 && y <= 4))) ||
                (x >= 23 && y < 7 && (x === 23 || x === 29 || y === 0 || y === 6 || (x >= 25 && x <= 27 && y >= 2 && y <= 4))) ||
                (x < 7 && y >= 23 && (x === 0 || x === 6 || y === 23 || y === 29 || (x >= 2 && x <= 4 && y >= 25 && y <= 27)))) {
              ctx.fillStyle = '#000';
            } else {
              ctx.fillStyle = '#fff';
            }
          } else {
            ctx.fillStyle = Math.random() > 0.5 ? '#000' : '#fff';
          }
          ctx.fillRect(x * cellSize, y * cellSize, cellSize, cellSize);
        }
      }
    }

    function switchTab(tab) {
      document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
      document.querySelectorAll('.tab-btn').forEach(el => {
        el.classList.remove('border-purple-500', 'text-purple-400');
        el.classList.add('border-transparent', 'text-gray-400');
      });

      document.getElementById('tab-' + tab).classList.remove('hidden');
      event.target.classList.add('border-purple-500', 'text-purple-400');
      event.target.classList.remove('border-transparent', 'text-gray-400');
    }

    function changeDevice() {
      const device = document.getElementById('device-select').value;
      const frame = document.getElementById('device-frame');
      const screen = document.getElementById('device-screen');

      const devices = {
        'iphone-15-pro': { width: 320, height: 640 },
        'iphone-15': { width: 310, height: 620 },
        'iphone-se': { width: 280, height: 500 },
        'ipad-pro': { width: 400, height: 540 },
        'pixel-8': { width: 310, height: 640 },
        'galaxy-s24': { width: 320, height: 700 },
        'pixel-tablet': { width: 420, height: 320 }
      };

      const config = devices[device] || devices['iphone-15-pro'];
      frame.style.width = config.width + 'px';
      screen.style.height = config.height + 'px';
    }

    function reloadApp() {
      const indicator = document.getElementById('hot-reload');
      indicator.textContent = 'Reloading...';
      indicator.style.opacity = '1';
      indicator.classList.remove('bg-green-500');
      indicator.classList.add('bg-blue-500');

      setTimeout(() => {
        indicator.textContent = 'Reloaded!';
        indicator.classList.remove('bg-blue-500');
        indicator.classList.add('bg-green-500');
        setTimeout(() => indicator.style.opacity = '0', 1000);
      }, 500);

      logMessage('[Metro] Reloading app...', 'blue');
    }

    function openDevMenu() {
      logMessage('[Device] Dev menu opened', 'purple');
    }

    function toggleInspector() {
      logMessage('[Inspector] Element inspection toggled', 'green');
    }

    function shakeDevice() {
      const frame = document.getElementById('device-frame');
      frame.style.animation = 'shake 0.5s';
      setTimeout(() => frame.style.animation = '', 500);
      logMessage('[Device] Shake gesture detected', 'orange');
    }

    function openExpoGo() {
      logMessage('[Expo Go] Opening app link...', 'purple');
    }

    function copyLink() {
      navigator.clipboard.writeText('exp://192.168.1.100:19000');
      logMessage('[Clipboard] Link copied', 'green');
    }

    function logMessage(msg, color = 'gray') {
      const console = document.getElementById('tab-console');
      const div = document.createElement('div');
      div.className = `text-${color}-400`;
      div.textContent = msg;
      console.appendChild(div);
      console.scrollTop = console.scrollHeight;
    }

    function toggleTheme() {
      document.documentElement.classList.toggle('dark');
      const btn = document.getElementById('themeBtn');
      btn.innerHTML = document.documentElement.classList.contains('dark')
        ? '<span class="mdi mdi-weather-night text-xl"></span>'
        : '<span class="mdi mdi-weather-sunny text-xl"></span>';
    }

    function showHelp() {
      document.getElementById('help-modal').classList.remove('hidden');
    }

    function hideHelp() {
      document.getElementById('help-modal').classList.add('hidden');
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      generateQR();

      // Simulate startup
      setTimeout(() => {
        document.getElementById('status').innerHTML = `
          <span class="w-2 h-2 rounded-full bg-green-500"></span>
          <span class="text-sm text-green-400">Running</span>
        `;
      }, 2000);

      // Simulate hot reload
      setInterval(() => {
        if (Math.random() > 0.9) {
          const indicator = document.getElementById('hot-reload');
          indicator.textContent = 'Hot Reload';
          indicator.style.opacity = '1';
          setTimeout(() => indicator.style.opacity = '0', 1500);
          logMessage('[Metro] Hot reload triggered', 'green');
        }
      }, 5000);
    });

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.key === 'r' || e.key === 'R') reloadApp();
      if (e.key === 'm' || e.key === 'M') openDevMenu();
      if (e.key === 'i' || e.key === 'I') toggleInspector();
    });

    // Add shake animation
    const style = document.createElement('style');
    style.textContent = `
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        20% { transform: translateX(-10px); }
        40% { transform: translateX(10px); }
        60% { transform: translateX(-10px); }
        80% { transform: translateX(10px); }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>
</html>
